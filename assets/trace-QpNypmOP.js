import{ap as u,aq as i,ar as y,H as p,as as f}from"./index-BkKIpdnN.js";async function J(a,t,r){const e=u(a),s=t.toJSON();s.traceLocations=JSON.stringify(t.traceLocations),t.resultTypes&&(s.resultTypes=JSON.stringify(t.resultTypes)),t.moment||t.gdbVersion?.toUpperCase()!=="SDE.DEFAULT"&&t.gdbVersion||(s.moment=Date.now());const o=i(e.query,{query:y({...s,f:"json"}),...r}),c=`${e.path}/trace`;return p(c,o).then(n=>l(n))}async function S(a,t,r){const e=u(a),s=t.toJSON();s.traceLocations=JSON.stringify(t.traceLocations),t.resultTypes&&(s.resultTypes=JSON.stringify(t.resultTypes));const o=i(e.query,{query:y({...s,async:!0,f:"json"}),...r}),c=`${e.path}/trace`,{data:n}=await p(c,o);return n.statusUrl}function l(a){const{data:t}=a;return f.fromJSON(t.traceResults)}export{S as submitTraceJob,J as trace};
